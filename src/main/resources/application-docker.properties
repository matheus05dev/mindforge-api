spring.application.name=Mind Forge

# --- Database Configuration ---
spring.datasource.url=jdbc:postgresql://postgres:5432/mindforge
spring.datasource.username=mindforge_user
spring.datasource.password=mindforge_pass
spring.datasource.driver-class-name=org.postgresql.Driver

# Hibernate configuration
spring.jpa.hibernate.ddl-auto=update
spring.jpa.defer-datasource-initialization=false

# Flyway configuration
spring.flyway.enabled=false

# --- Server Configuration ---
server.port=8080

# --- Spring MVC Async Configuration ---
spring.mvc.async.request-timeout=600000

# --- GitHub OAuth Configuration ---
github.client.id=${GITHUB_CLIENT_ID:your_github_client_id}
github.client.secret=${GITHUB_CLIENT_SECRET:your_github_client_secret}
spring.security.oauth2.client.registration.github.client-id=${GITHUB_CLIENT_ID:your_github_client_id}
spring.security.oauth2.client.registration.github.client-secret=${GITHUB_CLIENT_SECRET:your_github_client_secret}
spring.security.oauth2.client.registration.github.scope=user:email

# --- Ollama AI Provider Configuration ---
# Updated host for Docker
ollama.api.url=http://ollama:11434/api/chat
ollama.model=llama3.2

# --- Ollama Embedding Configuration ---
# Updated host for Docker
ollama.embedding.base-url=http://ollama:11434
ollama.embedding.model=nomic-embed-text
ollama.model.text=llama3.2
zollama.model.legacy-vision=llava

# --- Groq AI Provider Configuration ---
groq.api.url=https://api.groq.com/openai/v1/chat/completions
groq.api.key=${GROQ_API_KEY:your_groq_api_key_here}
groq.budget.tokens-per-minute=6000
groq.budget.safety-margin=200
groq.budget.enabled=true

# --- Tavily Web Search Configuration ---
tavily.api.key=${TAVILY_API_KEY:your_tavily_api_key_here}

# --- Resilience4j ---
resilience4j.ratelimiter.instances.aiProvider.limitForPeriod=10
resilience4j.ratelimiter.instances.aiProvider.timeoutDuration=120s

resilience4j.circuitbreaker.instances.aiProvider.slidingWindowSize=10
resilience4j.circuitbreaker.instances.aiProvider.failureRateThreshold=50
resilience4j.circuitbreaker.instances.aiProvider.waitDurationInOpenState=20s

resilience4j.timelimiter.instances.aiProvider.timeout-duration=300s
resilience4j.timelimiter.instances.ollamaProvider.timeout-duration=300s
resilience4j.timelimiter.instances.groqProvider.timeout-duration=120s

# --- File Upload Configuration ---
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

logging.level.root=INFO
logging.level.com.matheusdev.mindforge=DEBUG
